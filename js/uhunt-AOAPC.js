angular.module('uHunt.AOAPC', ['uHunt.base'])

.value('AOAPC_1ed', [
  {title:'Getting Started', arr:
  [{title:'Getting Started', arr:[
    ['',10055,10071,10300,458,494,414,490,445,488,489,694,457]
   ]}
  ]},

  {title:'Elementary Problem Solving', arr:
  [{title:'String', arr:[
    ['',401,10010,10361,537,409,10878,10815,644,10115]
   ]},
   {title:'Big Number', arr:[
    ['',424,10106,465,748,10494]
   ]},
   {title:'Sorting/Searching', arr:[
    ['',340,10420,10474,152,299,120,156,400,123,10194,755,10785]
   ]},
   {title:'Maths', arr:[
    ['Misc',113,10161,253,621,10025,591,107,573,846,10499,10790,11044,10719,10177,10916,10970,10014],
    ['Number Theory',575,10110,550,568,408,350,10061,10392,10879],
    ['Simple Geometry',10250,579,375,10387,10112]
   ]}
  ]},

  {title:'Data Structures', arr:
  [{title:'Lists', arr:[
    ['',127,101,133,10152,673,442,11111,11234,540,10050]
   ]},
   {title:'Binary Trees', arr:[
    ['',112,548,297,712,699,327,839,10562]
   ]},
   {title:'Graphs', arr:[
    ['',572,657,784,705,439,532,10557,10047,10004,10129,10054,10596,10305,196]
   ]}
  ]},

  {title:'Brute Force', arr:
  [{title:'Elementary Skills', arr:[
    ['',10167,11205,131,146,10098,729,592,110]
   ]},
   {title:'Backtracking', arr:[
    ['Easy',10474,216,639,539,301,10344,331,10012,165,167,10001,140,193,208],
    ['Hard',10123,10160,197,185,307,317,387,519,529,565,502,322]
   ]},
   {title:'Implicit Graph Traversal', arr:[
    ['',10603,10422,10085,310,321,704]
   ]},
   {title:'Hashing / Sets', arr:[
    ['',188,10282,10391,10125,10887,141,10591]
   ]},
   {title:"Rujia Liu's Problems for Beginners", arr:[
    ['',11218,11198,10274,11210,10624]
   ]}
  ]},

  {title:'Algorithm Design', arr:
  [{title:'', arr:[
    ['',10905,10763,10132,270,10341,10057,10706,10487,10340,10700,10026,311,10020,10714,10954,714,10602,10400,10718,11054,10382,10670,10720,993,10716,11100,10245,11129,10041,507,108,10827,757,10148]
   ]}
  ]},

  {title:'Dynamic Programming', arr:
  [{title:'', arr:[
    ['',111,103,10405,674,10003,116,10131,10066,10192,147,357,562,348,624,10130,531,10465,10285,437,10404,620,825,10069,10534,10051,10651,590,10306,10739,10304,10271,10617,11137,10154,10201,10453,10029,10313,10401,10891,11151,10911,10635,10564,662,10626,10118,607,10604,10913,11008,10723,11258,10599,10817,10163,709,10280,10558,11081]
   ]}
  ]},

  {title:'Mathematical Concepts and Methods', arr:
  [{title:'', arr:[
    ['',138,10006,128,106,10673,11121,10791,10717,10820,571,11029,10023,10308,10105,10375,11027,10056,10491,10759,542,10277,10169,11181,557,10900,11176,10417,10183,10303,10518,10862,10334,10229,763,10236,991,10079,10940,10359,10519,10918,11069,10910,10254,10328,10157,10247,10516,10128,10081,10943,10721,10912,10616,11125,10205,701,696,254,10994,306,10570]
   ]}
  ]},

  {title:'Graph Algorithms and Implementation Techniques', arr:
  [{title:'', arr:[
    ['',567,10034,10048,10397,10369,658,10099,10801,10986,558,515,104,125,10803,10330,10806,11045,753,563,10746,10594,10985,10608,10158,10269,10273]
   ]}
  ]}
])

.value('AOAPC_2ed', [
  {title:'Arrays and Strings', arr:
  [{title:'Examples', arr:[
    ['',272,10082,401,340,1583,1584]
   ]},
   {title:'Exercises', arr:[
    ['',1585,1586,1225,455,227,232,1368,202,10340,1587,1588,11809]
   ]}
  ]},

  {title:'Functions and Recursion', arr:
  [{title:'Examples', arr:[
    ['',1339,489,133,213,512,12412]
   ]},
   {title:'Exercises', arr:[
    ['',1589,201,220,253,1590,508,509,12108,1591,815]
   ]}
  ]},

  {title:'C++ and STL', arr:
  [{title:'Examples', arr:[
    ['',10474,101,10815,156,12096,540,136,400,1592,207,814,221]
   ]},
   {title:'Exercises', arr:[
    ['',1593,1594,10935,10763,10391,1595,12100,230,1596,1597,12504,511,822,1598,12333,212]
   ]}
  ]},

  {title:'Data Structures', arr:
  [{title:'Examples', arr:[
    ['',210,514,442,11988,12657,679,122,548,839,699,297,572,1103,816,10305,10129,10562,12171,1572,1599,506,11853]
   ]},
   {title:'Exercises', arr:[
    ['',673,712,536,439,1600,12166,804,806,127,246,10410,810,215,12118]
   ]}
  ]},

  {title:'Brute Force', arr:
  [{title:'Examples', arr:[
    ['',725,11059,10976,524,129,140,1354,10603,1601,11212,12325,1343,1374,1602,1603]
   ]},
   {title:'Exercises', arr:[
    ['',208,225,211,818,690,12113,12558,12107,1604,11214,12569,1533,817,307]
   ]}
  ]},

  {title:'Algorithm Design', arr:
  [{title:'Examples', arr:[
    ['',120,1605,1152,11134,11054,1606,11572,1471,1451,714,10954,12627,11093,1607,12174,1608,1609,1442,12265]
   ]},
   {title:'Exercises', arr:[
    ['',1149,1610,12545,11491,177,1611,11925,1612,1613,1614,1615,1153,10570,1616,1617,1618,11536,1619,1312,1620,1621,1622,1623,10366,11175,12559,1580,1624]
   ]}
  ]},

  {title:'Dynamic Programming', arr:
  [{title:'Examples', arr:[
    ['',1025,437,1347,116,12563,11400,11584,1625,10003,1626,1331,12186,1220,1218,10817,1252,1412,10618,1627,10934,1336,12105,1204,12099,12170,1380,10559,1439,1228,1375,1628]
   ]},
   {title:'Exercises', arr:[
    ['',10285,10118,1629,1630,242,10723,1631,1632,10163,10641,1633,12093,1289,1543,12589,1634,10271,1379,1443,12222,1371,1579,1322]
   ]}
  ]},

  {title:'Maths', arr:
  [{title:'Examples', arr:[
    ['',11582,12169,10375,10791,12716,1635,10820,1262,1636,10491,11181,1637,580,12034,1638,12230,1639,10288,11346,10900,11971,1640,10213,1641,1363,11440,10214,1393,1642]
   ]},
   {title:'Exercises', arr:[
    ['',11040,808,1643,1644,1213,1210,10539,10622,294,1645,1646,557,11526,10886,12063,1647,11105,10837,10868,1648,1649,10640,10479,766,1575,12520,1390,1650,11982,12371,12590,1414,1651,12212,1282,1652,1653,10824,11186,12535,1406,12508,1654,11246,11166,11895,11429,1655,1656,11303,1657]
   ]}
  ]},

  {title:'Graph Theory', arr:
  [{title:'Examples', arr:[
    ['',12219,1395,1151,247,10048,658,753,11082,1658,1349,12661,1515,10735,1279,1659]
   ]},
   {title:'Exercises', arr:[
    ['',821,1001,820,1660,1661,1662,10801,1663,12549,12264,1664,1665,1666,1667,1668,1669,1670,12214,1518,12433,11671]
   ]}
  ]},

  {title:'Advanced Topics', arr:
  [{title:'Examples', arr:[
    ['',1671,1672,1673,12161,11994,1674,12538,805,1675,12314,1520,1676,11998,1104,12567,12110,12253,12164,1677,1678,1679,12162,1017,1286,1288,12565,11188,12308,1680,1097,1681,11199,1682,11521,12417,12666,12731]
   ]},
   {title:'Exercises', arr:[
    ['',12306,1686,1687,12227,1688,1689,11425,1570,1690,1573,1691,1692,1693,1290,1694,12570,10383,12566,1695,1696]
   ]},
   {title:'Extra', arr:[
    ['',1683,12629,12698,12711,12713,12513,11594,12415,11993,10766,11118,11915,1684,1685]
   ]}
  ]},
])

.value('AOAPC_TrainingGuide', [
  {title:'Algorithm Design', arr:[
    {title:'General Problem Solving Techniques', arr:[
      ['Examples', 11292, 11729, 11300, 1388, 10881, 1030, 11464, 1352, 11210, 11384, 10795, 12124, 12097, 11520, 1267, 1335],
      ['Exercises: Beginner', 11636, 11039, 1339, 1368, 10970, 10340, 10382, 1346, 1508, 1509, 10012, 10020, 10026, 10317, 10318, 10670, 1523, 1555, 1533, 110, 120, 254, 311, 434, 669, 757, 769, 812, 140, 165, 225, 269, 387, 471, 524, 585, 654, 656, 687, 817, 818],
      ['Exercises: Intermediate', 10905, 1422, 11627, 11134, 11100, 1344, 11389, 1418, 1153, 1419, 1420, 1445, 1421, 1377, 1354, 1374, 10037, 10602, 10716, 11127, 10120, 10123, 10366, 10396, 10479, 10483, 10570, 10609, 10624, 10729, 10747, 10771, 11012, 11106, 11269, 11387, 11714, 11776, 11920, 11986, 1554, 1531, 668, 714, 211, 219, 229, 279, 307, 322, 502, 510, 519, 529, 589, 609, 646, 649, 690, 764, 770, 772, 798],
      ['Exercises: Advanced', 1450, 1467, 1316, 1491, 12326, 10825, 10639, 1355, 1295, 1448, 10383, 10411, 10414, 10492, 10571, 10605, 10628, 10632, 10833, 11694, 11794, 11846, 10272, 10471, 10640, 10658, 10675, 10786, 10904, 11006, 11041, 11129, 11142, 11184, 11251, 11268, 11318, 11445, 11522, 11527, 11570, 11630, 11814, 11925, 12011, 1535, 1536, 135, 605, 608, 799]
    ]},
    
    {title:'Designing Efficient Algorithms', arr:[
      ['Examples', 11462, 11078, 11549, 1398, 1121, 1330, 1382, 10755, 1326],
      ['Exercises: Beginner', 10125, 10763, 10391, 11054, 1312, 10535, 10730, 10810, 221, 517],
      ['Exercises: Intermediate', 1325, 10827, 1451, 12265, 1432, 1312, 1481, 1392, 1442, 1381, 12174, 1511, 12121, 10132, 10691, 11589, 11536, 11572, 1548, 1526],
      ['Exercises: Advanced', 1468, 1444],
    ]},
    
    {title:'Dynamic Programming', arr:[
      ['Examples', 1394, 10635, 10891, 11825, 10859, 1169, 1099],
      ['Exercises: Beginner', 11584, 1424, 10534, 11552, 11404, 1456, 11795, 1452, 1366, 10564, 10817, 1292, 1351, 1291, 1252, 10163, 10453, 10254, 437, 442, 473, 590, 607, 662, 672],
      ['Exercises: Intermediate', 12260, 1427, 1407, 12235, 11600, 1474, 12222, 12223, 1414, 1347, 12080, 1379, 1370, 1371, 1372, 1299, 1331, 1390, 1484, 12105, 10003, 10239, 10271, 10304, 10599, 10604, 10618, 10641, 10671, 10688, 11263, 11400, 11578, 11691, 11766, 12002, 10723, 10934, 10981, 11307, 11456, 11782, 1534, 1543],
      ['Exercises: Advanced', 1437, 1439, 1412, 1443, 1380, 12099, 1496, 1375, 1405, 1297, 1320, 1322, 1336, 12170, 10559, 1228, 11521, 10949, 11193, 11194, 11810, 11171, 11435, 11502, 11750, 11803]
    ]}
  ]},
  
  {title:'Mathematics', arr:[
    {title:'Basic Problems', arr:[
      ['', 11388, 11889, 10943, 10780, 10892, 11752, 11076, 11609, 12050, 11489, 10791, 11461, 1319, 1315, 10339, 10367, 10586, 10693, 10726, 10773, 10995, 11029, 11314, 1530, 1529, 244, 278, 591, 616, 617, 618, 783, 797, 808]
    ]},
    
    {title:'Counting', arr:[
      ['Examples', 11538, 11401, 11806, 1362, 11361, 1073, 10253],
      ['Exercises: Beginner', 11038, 10883, 1510, 1350, 11645, 10079, 10081, 10157, 10312, 10497, 417, 580],
      ['Exercises: Intermediate', 1393, 12075, 11529, 12123, 1436, 11481, 1425, 10237, 10128, 10458, 10623, 10712, 11290, 11421, 11885, 12034, 12508, 10574, 10581, 10593, 10843, 10844, 11123, 11133, 766],
      ['Exercises: Advanced', 11139, 10884, 1485, 1478, 1489, 1430, 10743, 11379, 11625, 10643, 10694, 10824, 11303, 11915, 12037]
    ]},
    
    {title:'Number Theory', arr:[
      ['Examples', 1069, 11426, 11754, 11916],
      ['Exercises: Beginner', 10673, 11490, 11728, 10692, 10951, 1415, 10061, 10090, 10110, 10127, 10140, 10368, 10515, 10539, 10560, 10622, 10710, 11105, 138, 294, 463, 467, 550, 701, 718, 756],
      ['Exercises: Intermediate', 11768, 1426, 1431, 1521, 11014, 1126, 12119, 1404, 1323, 1341, 1363, 1434, 10162, 10236, 10413, 10548, 10555, 10620, 10627, 10837, 11237, 11440, 11657, 10542, 10831, 11024, 11246, 11256, 11317, 12009, 1549, 1550, 1538, 1539],
      ['Exercises: Advanced', 12253, 1503, 1435]
    ]},
    
    {title:'Game Theory', arr:[
      ['Examples', 1482, 10561],
      ['Exercises: Beginner', 12293, 11892, 11927, 10165, 11534, 847, 1557, 1559, 1558],
      ['Exercises: Intermediate', 12163, 1378, 11249, 1566],
      ['Exercises: Advanced', 1500, 11758, 12033, 12370, 1567, 1561]
    ]},
    
    {title:'Probability', arr:[
      ['Examples', 11021, 11722, 11427, 11762],
      ['Exercises: Beginner', 12230, 11181, 10491, 10900, 10288, 11291, 11346, 1541, 542, 557],
      ['Exercises: Intermediate', 11637, 11605, 10417, 10529, 11176, 11971],
      ['Exercises: Advanced', 1498, 1413, 1300, 12164, 11429]
    ]},
    
    {title:'Permutation', arr:[
      ['Examples', 10294, 12103, 11077, 1156],
      ['Exercises: Beginner', 10601, 11774, 10733, 239, 306],
      ['Exercises: Intermediate', 11330, 11255, 1016, 716],
      ['Exercises: Advanced', 11540, 12387, 11924, 11118, 11698]
    ]},
     
    {title:'Matrix & System of Linear Equations', arr:[
      ['Examples', 10870, 1386, 10828, 11542],
      ['Exercises: Beginner', 10655, 11149, 1560, 10689, 11551, 1546, 472, 684],
      ['Exercises: Intermediate', 10808, 1397, 1564, 1563, 1562, 1551, 11651, 720],
      ['Exercises: Advanced', 1332, 11778]
    ]},
    
    {title:'Numerical Methods', arr:[
      ['Examples', 10341, 1476, 1356],
      ['Exercises: Beginner', 10668, 10385, 10693, 10428, 1524, 474],
      ['Exercises: Intermediate', 1487, 1403, 1429, 11102, 10228],
      ['Exercises: Advanced', 12413, 10631, 10727, 11102, 11120, 11702, 11901]
    ]}
  ]},
  
  {title:'Data Structures', arr:[
    {title:'Fundamental Data Structures', arr:[
      ['Examples', 11995, 11991, 1203, 11997, 1160, 1329],
      ['Exercises: Beginner', 11988, 11136, 10588, 10410, 10895, 246, 514, 536, 548],
      ['Exercises: Intermediate', 12232, 11987, 12130, 12096, 10273, 305, 501, 540, 586],
      ['Exercises: Advanced', 1517], 
    ]},
  
    {title:'Maintaining Interval Data', arr:[
      ['Examples', 1428, 11235, 1400, 11992],
      ['Exercises: Beginner', 12086, 1513, 12299, 1232, 11525, 11402],
      ['Exercises: Intermediate', 1455, 1493, 1492, 1406, 10869, 11423, 11898, 11983],
      ['Exercises: Advanced', 1520], 
    ]},
  
    {title:'String Algorithms', arr:[
      ['Examples', 1401, 11732, 1328, 1449, 11468, 11019, 11107, 12206],
      ['Exercises: Beginner', 11488, 1519, 1399, 10298, 10887, 11475, 12338, 1556, 257, 261, 282, 475],
      ['Exercises: Intermediate', 1385, 1314, 1076, 10829, 1358, 1462, 10526, 11557, 11855, 11888, 12012, 719],
      ['Exercises: Advanced', 1470, 1502, 1441], 
    ]},
  
    {title:'Binary Search Trees', arr:[
      ['Examples', 11020, 1479, 11922, 11996],
      ['Exercises: Beginner', 1264, 1402, 1471, 11688, 10821, 1525, 10909],
      ['Exercises: Intermediate', 12329, 1365, 11672],
      ['Exercises: Advanced', 12419, 12538, 11989], 
    ]},
  ]},
  
  {title:'Geometry', arr:[
    {title:'Basic Problems', arr:[
      ['', 11437, 11800, 11646, 11817, 1473, 11524, 11731, 12300, 12301, 10566, 11186, 12165, 1447, 10347, 10439, 10522, 194, 438], 
    ]},
  
    {title:'Geometric Computations in 2D', arr:[
      ['Examples', 11178, 1342, 11796, 12304, 1308],
      ['Exercises: Beginner', 1301, 10969, 10075, 10335, 10556, 10585, 11928, 361, 503, 303, 313, 800],
      ['Exercises: Intermediate', 11177, 11978, 1359, 1463, 10321, 10809, 10867, 10915, 203, 217, 319, 421],
      ['Exercises: Advanced', 1003, 1017, 11188, 12306, 12309, 12314, 11037, 11746], 
    ]},
  
    {title:'Geometric Algorithms in 2D', arr:[
      ['Examples', 10652, 11168, 10256, 1453, 1396, 1298, 1475, 1318, 1340, 12296],
      ['Exercises: Beginner', 1303, 1304, 10084, 12307, 10245, 11072, 11265, 588, 754, 811],
      ['Exercises: Intermediate', 11726, 11595, 1334, 1506, 1446, 11277, 11612, 11681, 12016, 427, 667, 802, 819, 823],
      ['Exercises: Advanced', 12311, 10095, 10204, 10456, 11243, 11740, 11756, 691, 805], 
    ]},
  
    {title:'Geometric Computations and Algorithms in 3D', arr:[
      ['Examples', 11275, 1469, 1438, 1100],
      ['Exercises: Beginner', 1373, 1333, 1360, 10794, 11836, 415, 535, 578, 659],
      ['Exercises: Intermediate', 1337, 1483, 1433, 1488, 1313, 1338, 10495, 10517, 11334, 1545, 1547, 420, 809, 813],
      ['Exercises: Advanced', 11887, 12313, 12305, 12308, 12513, 11289, 11580, 11807], 
    ]},
  ]},
  
  {title:'Graph Theory', arr:[
    {title:'Fundamentals', arr:[
      ['Examples', 11624, 10047, 10054, 1423],
      ['Exercises: Beginners', 10441, 11573, 11748, 436, 515, 532, 534, 538, 705, 707, 810, 816],
      ['Exercises: Intermediate', 10457, 10607, 10798, 10941, 10968, 11165, 11853, 258, 308, 1568, 359, 715, 1569],
      ['Exercises: Advanced', 11175, 12017], 
    ]},
  
    {title:'DFS (Depth First Search)', arr:[
      ['Examples', 1364, 1108, 12167, 11324, 1146, 1391],
      ['Exercises: Beginners', 11396, 1357, 10765, 11294, 10319, 11080, 11504, 610],
      ['Exercises: Intermediate', 1086, 1361, 10972, 1514, 11604, 12273, 1310, 10510, 11098, 11930],
      ['Exercises: Advanced', 1466, 1464, 1116], 
    ]},
  
    {title:'Shortest Paths', arr:[
      ['Examples', 11374, 10917, 1416, 10537, 11090, 11478, 1078, 1048, 1376],
      ['Exercises: Beginners', 10603, 10269, 11367, 11280, 10246, 558, 658],
      ['Exercises: Intermediate', 1348, 1516, 1518, 10342, 10740, 10841, 10967],
      ['Exercises: Advanced', 12227, 1311, 1321, 1057, 1081, 1089, 1097, 10381], 
    ]},
  
    {title:'Minimal Spanning Tree and Variants', arr:[
      ['Examples', 1494, 11354, 11865],
      ['Exercises: Beginners', 1395, 10600, 11183, 10816, 10938, 11747, 544],
      ['Exercises: Intermediate', 10369, 1265, 12275, 1504],
      ['Exercises: Advanced', 1537], 
    ]},
  
    {title:'Bipartite Graph Matching', arr:[
      ['Examples', 1411, 11383, 1006, 1175, 11419, 12083, 1201],
      ['Exercises: Beginners', 1045, 1349, 12168],
      ['Exercises: Intermediate', 10615, 1327, 1459, 10735, 10888, 11119],
      ['Exercises: Advanced', 10418, 10630], 
    ]},
  
    {title:'Network Flows', arr:[
      ['Examples', 11248, 1324, 1306, 10779, 11613],
      ['Exercises: Beginners', 10806, 1345, 1161, 12125, 1212, 1317, 1486, 10249, 10380, 11380, 563],
      ['Exercises: Intermediate', 11167, 11082, 1440, 12092, 1515, 12264, 1369, 11544, 11594, 11603],
      ['Exercises: Advanced', 1389, 1104, 11700], 
    ]},
  ]},
  
  {title:'Selected Topics', arr:[
    {title:'Dynamic Programming on Borderline', arr:[
      ['Examples', 11270, 1214, 10572],
      ['Exercises: Beginners', 12117, 1408],
      ['Exercises: Intermediate', 11741, 11443, 10531, 11531],
      ['Exercises: Advanced', 11276, 1094, 1501], 
    ]},
  
    {title:'Advanced Data Structure Topics', arr:[
      ['Examples', 11297, 11990, 12003],
      ['Exercises: Beginners', 12074, 1417, 12345, 1465],
      ['Exercises: Intermediate', 1383, 12389, 1490],
      ['Exercises: Advanced', 1480, 1472, 11607, 12312, 1106], 
    ]},
  
    {title:'Brute Force', arr:[
      ['Examples', 12112, 1085, 1309],
      ['Exercises: Beginners', 1063, 1343, 10838, 12180, 1461, 1499, 1505, 12569, 10274, 10422, 10536, 1565, 704, 751],
      ['Exercises: Intermediate', 1041, 11212, 12558, 1495, 10358, 10384, 10704, 11376, 11501, 11513],
      ['Exercises: Advanced', 1353, 12418, 11211, 11213, 1008, 11208, 12570, 11772], 
    ]},
  
    {title:'Selected Topics in Geometry', arr:[
      ['Examples', 1102, 12303, 1077, 1367, 1065, 1075, 11921, 1060],
      ['Exercises: Beginners', 1497, 12237, 1138, 10514, 10760, 12029, 688],
      ['Exercises: Intermediate', 1409, 1387, 1507, 10613, 10762, 248],
      ['Exercises: Advanced', 1014, 11425, 12565, 1288], 
    ]},
  
    {title:'Selected Topics in Mathematics', arr:[
      ['Examples', 11017, 1384, 1457, 12298, 10498],
      ['Exercises: Beginners', 11640, 1059, 12076, 1305],
      ['Exercises: Intermediate', 12327, 1410, 12512],
      ['Exercises: Advanced', 12344, 12434, 12567, 10089], 
    ]},
  
    {title:'Writing and Debugging Complex Codes', arr:[
      ['Examples', 10966, 12233],
      ['Exercises: Beginners', 1024, 1087, 1458, 12014, 1477, 1294, 1296, 12412, 10741, 11717, 11956, 10467, 10584, 10996, 1544, 1527, 1528, 163, 206, 207, 210, 214, 226, 253, 316, 320, 346, 449, 508, 509, 512, 513, 533, 592, 603, 765, 803, 804, 806, 807, 814, 815, 822],
      ['Exercises: Intermediate', 10757, 1454, 1293, 1307, 1512, 10612, 10155, 11575, 1540, 1542, 1532, 1553, 212, 252, 281, 292, 293, 330, 396, 611],
      ['Exercises: Advanced', 1055, 1460, 12417, 12421, 12422, 12423, 11886, 1552, 304]
    ]}
  ]}
])

.factory('AOAPC_parse_problems', function () {
  return function (chapters) {
    var problems = [];
    for (var cc = 0; cc < chapters.length; cc++) {
      var c = chapters[cc];
      for (var i = 0; i < c.arr.length; i++) {
        var sc = c.arr[i];
        for (var j = 0; j < sc.arr.length; j++) {
          var ssc = sc.arr[j];
          for (var k = 1; k < ssc.length; k++) {
            problems.push(ssc[k]);
          }
        }
      }
    }
    return problems;
  };
})

.factory('AOAPC_1ed_numbers', function (AOAPC_1ed, AOAPC_parse_problems) { return AOAPC_parse_problems(AOAPC_1ed); })
.factory('AOAPC_2ed_numbers', function (AOAPC_2ed, AOAPC_parse_problems) { return AOAPC_parse_problems(AOAPC_2ed); })
.factory('AOAPC_TrainingGuide_numbers', function (AOAPC_TrainingGuide, AOAPC_parse_problems) { return AOAPC_parse_problems(AOAPC_TrainingGuide); })

.factory('AOAPC_db', function (create_uhunt_db) {
  return create_uhunt_db('aoapc', {
    'show': 'string',
    'chapter': 'int',
    'edition': 'int',
  });
})

.directive('uhuntAoapc', function (uhunt, uhunt_util, AOAPC_db, uhunt_problems, AOAPC_1ed, AOAPC_2ed, AOAPC_TrainingGuide) {
  return {
    scope: {},
    replace: true,
    // scope: { number:'=uhuntProblemSearch', show:'=', hide:'=', search:'=', },
    templateUrl: 'partials/AOAPC.html',
    link: function (scope, element, attrs) {
      console.time('AOAPCCtrl');
      var AOAPC_chapters = [ AOAPC_1ed, AOAPC_2ed, AOAPC_TrainingGuide ];
      var nth = ["1st Edition", "2nd Edition", "Training Guide"];
      var color = ['blue', 'brown', 'green'];
      var img = ['images/cp.jpg', 'images/cp2-small.png', 'images/cp3.png'];
      var link = [
        'http://www.lulu.com/product/paperback/competitive-programming/12110025',
        'http://www.lulu.com/product/paperback/competitive-programming-2/16377304',
        'http://www.lulu.com/shop/steven-halim/competitive-programming-3/paperback/product-21031836.html'
      ];
      scope.color1 = color[0];
      scope.color2 = color[1];
      scope.color3 = color[2];
      scope.edition = Math.min(2, AOAPC_db.exists('edition') ? AOAPC_db.get('edition') : 1);
      scope.chapter = AOAPC_db.get('chapter') || -1;
      scope.show_chapter_type = AOAPC_db.get('show') || 'Starred'; // Starred or Everything.

      function apply_edition() {
        scope.nth_ed = nth[scope.edition];
        scope.lulu_link = link[scope.edition];
        scope.cpbook_image = img[scope.edition];
        scope.other_ed = nth[1 - scope.edition];
        scope.other_color = color[1 - scope.edition];
        scope.chapters = AOAPC_chapters[scope.edition];
        scope.build_sections();
        AOAPC_db.set('edition', scope.edition);
      }

      scope.set_chapter = function (chapter, type) {
        if (type) {
          AOAPC_db.set('show', type);
          scope.show_chapter_type = type;
        }
        if (scope.chapter === chapter && !type) {
          scope.chapter = -1;
        } else {
          scope.chapter = chapter;
        }
        scope.build_sections();
        AOAPC_db.set('chapter', scope.chapter);
      };

      scope.is_selected_and = function (type, index) { return scope.chapter == index && scope.show_chapter_type == type; };
      scope.not_is_selected_and = function (type, index) { return !scope.is_selected_and(type, index); };

      scope.build_sections = function () {
        // console.log('build_sections chapter = ' + scope.chapter + '; problems ready = ' + uhunt_problems.ready());
        if (scope.chapter < 0 || !uhunt_problems.ready()) return;
        var c = scope.chapters[scope.chapter];
        if (!c) return;
        var sections = [];
        for (var i = 0, LN = 0, RN = 0; i < c.arr.length; i++) {
          var sc = c.arr[i], nsolved = 0, ntotal = 0, nhead = 0, s = [];
          for (var j = 0; j < sc.arr.length; j++) {
            var ssc = sc.arr[j], ss = [], sub_solved = 0, sub_total = 0; nhead++;
            for (var k = 1; k < ssc.length; k++) {
              var p = uhunt_problems.num(Math.abs(ssc[k]));
              if (!p) continue;
              var st = uhunt.user.stats(p.pid);
              var status = '<b>--- ? ---</b>', ntry = st.ntry;
              if (st.ac){
                status = '<b><tt style="color:green">&#x2714; '+
                  uhunt_util.format_ms(st.mrun) + 's/' + (st.rank < 10000 ? st.rank : '&gt;10K');
                if (ntry > 0) status += '(' + ntry + ')';
                status += '</tt></b>';
                nsolved++;
                sub_solved++;
              } else if (ntry>0){
                status = '<b style="color:orange">Tried (' + ntry + ')</b>';
              }
              ss.push({
                status: '&nbsp;' + status, p: p, starred: ssc[k] < 0,
                level: 10 - Math.floor(Math.min(10, Math.log(p.dacu? p.dacu : 1)))
              });
              ntotal++;
              sub_total++;
            }
            s.push({
              title : '&nbsp;' + ssc[0] + ' <tt>(' + sub_solved + '/' + sub_total + ')</tt>',
              sections: ss,
            });
          }
          sections.push({
            float: LN <= RN ? 'left' : 'right',
            section_title: sc.title + ' <tt>(' + nsolved + '/' + ntotal + ' = ' + Math.floor(nsolved/ntotal*100)+'%)</tt>',
            sections: s,
          });
          ntotal += nhead;
          if (LN <= RN) LN += ntotal; else RN += ntotal;
        }
        scope.sections = sections;
      }

      scope.switch_edition = function(ed) {
        scope.edition = ed;
        apply_edition();
      };

      scope.uhunt_problems = uhunt_problems;
      apply_edition();
      scope.$watch('uhunt_problems.version', scope.build_sections);
      uhunt.user.on('update', scope.build_sections);

      scope.percentage = function (c, show) {
        var solved = 0, total = 0;
        for (var i=0; i<c.arr.length; i++){
          var sc = c.arr[i];
          for (var j=0; j<sc.arr.length; j++){
            var ssc = sc.arr[j];
            for (var k=1; k<ssc.length; k++){
              var p = uhunt_problems.num(Math.abs(ssc[k]));
              if (!p) continue;
              if (uhunt.user.stats(p.pid).ac) solved++;
              total++;
            }
          }
        }
        return Math.floor(solved * 100 / total);
      };
      console.timeEnd('AOAPCCtrl');
    }
  };
})

;
